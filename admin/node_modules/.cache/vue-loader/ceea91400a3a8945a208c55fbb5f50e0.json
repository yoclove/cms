{"remainingRequest":"/Users/cc/项目/moba/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cc/项目/moba/admin/src/views/CategoryList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cc/项目/moba/admin/src/views/CategoryList.vue","mtime":1581495916995},{"path":"/Users/cc/项目/moba/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cc/项目/moba/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/cc/项目/moba/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cc/项目/moba/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKXsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBpdGVtczogW10KICAgICAgICB9OwogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGFzeW5jIGZldGNoKCl7CiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJ3Jlc3QvY2F0ZWdvcmllcycpOwogICAgICAgICAgICB0aGlzLml0ZW1zID0gaXRlbXMuZGF0YTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaXRlbXMpOwogICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIGFzeW5jIHJlbW92ZShyb3cpewogICAgICAgICAgICAgIHRoaXMuJGNvbmZpcm0oYOaYr+WQpuehruWumuimgeWIoOmZpCAiJHtyb3cubmFtZX0iYCwgIuaPkOekuiIsIHsKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgIH0pLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5kZWxldGUoYHJlc3QvY2F0ZWdvcmllcy8ke3Jvdy5faWR9YCk7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8hIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmZldGNoKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCl7CiAgICAgICAgCiAgICAgICAgdGhpcy5mZXRjaCgpCiAgICB9Cn0K"},{"version":3,"sources":["CategoryList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"CategoryList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"about\">\n    <h1>分类列表</h1>\n    <el-table :data=\"items\">\n        <el-table-column prop=\"_id\" label=\"ID\" width=\"240\"></el-table-column>\n        <el-table-column prop=\"parent.name\" label=\"上级分类\"></el-table-column>\n        <el-table-column prop=\"name\" label=\"分类名称\"></el-table-column>\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"text\"\n            size=\"small\"\n            @click=\"$router.push(`/categories/edit/${scope.row._id}`)\"\n          >编辑</el-button>\n          <el-button type=\"text\" size=\"small\" @click=\"remove(scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n<script>\n    export default {\n        data(){\n              return {\n                    items: []\n            };\n        },\n        methods:{\n            async fetch(){\n                const items = await this.$http.get('rest/categories');\n                this.items = items.data;\n                // console.log(items);\n                \n            },\n            async remove(row){\n                  this.$confirm(`是否确定要删除 \"${row.name}\"`, \"提示\", {\n                    confirmButtonText: \"确定\",\n                    cancelButtonText: \"取消\",\n                    type: \"warning\"\n                }).then(async () => {\n                    const res = await this.$http.delete(`rest/categories/${row._id}`);\n                    this.$message({\n                    type: \"success\",\n                    message: \"删除成功!\"\n                    });\n                    this.fetch();\n                });\n            }\n        },\n        created(){\n            \n            this.fetch()\n        }\n    }\n</script>"]}]}