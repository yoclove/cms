{"remainingRequest":"/Users/cc/项目/moba/admin/node_modules/babel-loader/lib/index.js!/Users/cc/项目/moba/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cc/项目/moba/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cc/项目/moba/admin/src/views/CategoryList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cc/项目/moba/admin/src/views/CategoryList.vue","mtime":1581495916995},{"path":"/Users/cc/项目/moba/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cc/项目/moba/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/cc/项目/moba/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cc/项目/moba/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9jYy9cdTk4NzlcdTc2RUUvbW9iYS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGl0ZW1zOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRodHRwLmdldCgncmVzdC9jYXRlZ29yaWVzJyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGl0ZW1zID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLml0ZW1zID0gaXRlbXMuZGF0YTsgLy8gY29uc29sZS5sb2coaXRlbXMpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUocm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuJGNvbmZpcm0oIlx1NjYyRlx1NTQyNlx1Nzg2RVx1NUI5QVx1ODk4MVx1NTIyMFx1OTY2NCBcIiIuY29uY2F0KHJvdy5uYW1lLCAiXCIiKSwgIuaPkOekuiIsIHsKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgICAgICB9KS50aGVuKAogICAgICAgICAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgICAgICAgICAgX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICAgICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlczsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kaHR0cC5kZWxldGUoInJlc3QvY2F0ZWdvcmllcy8iLmNvbmNhdChyb3cuX2lkKSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfISIKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmZldGNoKCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICB9KSkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoKCk7CiAgfQp9Ow=="},{"version":3,"sources":["CategoryList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAqBA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,CADA;;AAAA;AACA,gBAAA,KADA;AAEA,gBAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,IAAA,CAFA,CAGA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,KANA;AAOA,IAAA,MAPA,kBAOA,GAPA,EAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,QAAA,wDAAA,GAAA,CAAA,IAAA,SAAA,IAAA,EAAA;AACA,kBAAA,iBAAA,EAAA,IADA;AAEA,kBAAA,gBAAA,EAAA,IAFA;AAGA,kBAAA,IAAA,EAAA;AAHA,iBAAA,EAIA,IAJA;AAAA;AAAA;AAAA;AAAA,wCAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACA,MAAA,CAAA,KAAA,CAAA,MAAA,2BAAA,GAAA,CAAA,GAAA,EADA;;AAAA;AACA,0BAAA,GADA;;AAEA,0BAAA,MAAA,CAAA,QAAA,CAAA;AACA,4BAAA,IAAA,EAAA,SADA;AAEA,4BAAA,OAAA,EAAA;AAFA,2BAAA;;AAIA,0BAAA,MAAA,CAAA,KAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AApBA,GANA;AA4BA,EAAA,OA5BA,qBA4BA;AAEA,SAAA,KAAA;AACA;AA/BA,CAAA","sourcesContent":["<template>\n  <div class=\"about\">\n    <h1>分类列表</h1>\n    <el-table :data=\"items\">\n        <el-table-column prop=\"_id\" label=\"ID\" width=\"240\"></el-table-column>\n        <el-table-column prop=\"parent.name\" label=\"上级分类\"></el-table-column>\n        <el-table-column prop=\"name\" label=\"分类名称\"></el-table-column>\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"text\"\n            size=\"small\"\n            @click=\"$router.push(`/categories/edit/${scope.row._id}`)\"\n          >编辑</el-button>\n          <el-button type=\"text\" size=\"small\" @click=\"remove(scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n<script>\n    export default {\n        data(){\n              return {\n                    items: []\n            };\n        },\n        methods:{\n            async fetch(){\n                const items = await this.$http.get('rest/categories');\n                this.items = items.data;\n                // console.log(items);\n                \n            },\n            async remove(row){\n                  this.$confirm(`是否确定要删除 \"${row.name}\"`, \"提示\", {\n                    confirmButtonText: \"确定\",\n                    cancelButtonText: \"取消\",\n                    type: \"warning\"\n                }).then(async () => {\n                    const res = await this.$http.delete(`rest/categories/${row._id}`);\n                    this.$message({\n                    type: \"success\",\n                    message: \"删除成功!\"\n                    });\n                    this.fetch();\n                });\n            }\n        },\n        created(){\n            \n            this.fetch()\n        }\n    }\n</script>"],"sourceRoot":"src/views"}]}